#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "cJSON.h"

int main(void)
{
	char *jSON = "{\"status\":\"0\",\"msg\":\"ok\",\"result\":{\"city\":\"广州\",\"cityid\":\"75\",\"citycode\":\"101280101\",\"date\":\"2017-08-25\",\"week\":\"星期五\",\"weather\":\"小雨\",\"temp\":\"27\",\"temphigh\":\"33\",\"templow\":\"26\",\"img\":\"7\",\"humidity\":\"82\",\"pressure\":\"1009\",\"windspeed\":\"0.0\",\"winddirect\":\"东南风\",\"windpower\":\"1级\",\"updatetime\":\"2017-08-25 08:35:04\",\"index\":[{\"iname\":\"空调指数\",\"ivalue\":\"部分时间开启\",\"detail\":\"天气热，到中午的时候您将会感到有点热，因此建议在午后较热时开启制冷空调。\"},{\"iname\":\"运动指数\",\"ivalue\":\"较不宜\",\"detail\":\"有降水，推荐您在室内进行低强度运动；若坚持户外运动，须注意选择避雨防滑并携带雨具。\"},{\"iname\":\"紫外线指数\",\"ivalue\":\"中等\",\"detail\":\"属中等强度紫外线辐射天气，外出时建议涂擦SPF高于15、PA+的防晒护肤品，戴帽子、太阳镜。\"},{\"iname\":\"感冒指数\",\"ivalue\":\"少发\",\"detail\":\"各项气象条件适宜，发生感冒机率较低。但请避免长期处于空调房间中，以防感冒。\"},{\"iname\":\"洗车指数\",\"ivalue\":\"不宜\",\"detail\":\"不宜洗车，未来24小时内有雨，如果在此期间洗车，雨水和路上的泥水可能会再次弄脏您的爱车。\"},{\"iname\":\"空气污染扩散指数\",\"ivalue\":\"良\",\"detail\":\"气象条件有利于空气污染物稀释、扩散和清除，可在室外正常活动。\"},{\"iname\":\"穿衣指数\",\"ivalue\":\"炎热\",\"detail\":\"天气炎热，建议着短衫、短裙、短裤、薄型T恤衫等清凉夏季服装。\"}],\"aqi\":{\"so2\":\"13\",\"so224\":\"11\",\"no2\":\"31\",\"no224\":\"32\",\"co\":\"0.850\",\"co24\":\"0.750\",\"o3\":\"8\",\"o38\":\"5\",\"o324\":\"6\",\"pm10\":\"42\",\"pm1024\":\"33\",\"pm2_5\":\"19\",\"pm2_524\":\"16\",\"iso2\":\"5\",\"ino2\":\"16\",\"ico\":\"9\",\"io3\":\"3\",\"io38\":\"3\",\"ipm10\":\"41\",\"ipm2_5\":\"27\",\"aqi\":\"41\",\"primarypollutant\":\"PM10\",\"quality\":\"优\",\"timepoint\":\"2017-08-25 08:00:00\",\"aqiinfo\":{\"level\":\"一级\",\"color\":\"#00e400\",\"affect\":\"空气质量令人满意，基本无空气污染\",\"measure\":\"各类人群可正常活动\"}},\"daily\":[{\"date\":\"2017-08-25\",\"week\":\"星期五\",\"sunrise\":\"06:06\",\"sunset\":\"18:51\",\"night\":{\"weather\":\"多云\",\"templow\":\"26\",\"img\":\"1\",\"winddirect\":\"无持续风向\",\"windpower\":\"微风\"},\"day\":{\"weather\":\"小雨\",\"temphigh\":\"33\",\"img\":\"7\",\"winddirect\":\"无持续风向\",\"windpower\":\"微风\"}},{\"date\":\"2017-08-26\",\"week\":\"星期六\",\"sunrise\":\"06:07\",\"sunset\":\"18:50\",\"night\":{\"weather\":\"雷阵雨\",\"templow\":\"25\",\"img\":\"4\",\"winddirect\":\"无持续风向\",\"windpower\":\"微风\"},\"day\":{\"weather\":\"小雨\",\"temphigh\":\"33\",\"img\":\"7\",\"winddirect\":\"无持续风向\",\"windpower\":\"微风\"}},{\"date\":\"2017-08-27\",\"week\":\"星期日\",\"sunrise\":\"06:07\",\"sunset\":\"18:49\",\"night\":{\"weather\":\"中雨\",\"templow\":\"24\",\"img\":\"8\",\"winddirect\":\"东风\",\"windpower\":\"3-4 级\"},\"day\":{\"weather\":\"中雨-大雨\",\"temphigh\":\"32\",\"img\":\"22\",\"winddirect\":\"东风\",\"windpower\":\"4-5 级\"}},{\"date\":\"2017-08-28\",\"week\":\"星期一\",\"sunrise\":\"06:07\",\"sunset\":\"18:48\",\"night\":{\"weather\":\"中雨-大雨\",\"templow\":\"25\",\"img\":\"22\",\"winddirect\":\"东风\",\"windpower\":\"3-4 级\"},\"day\":{\"weather\":\"中雨-大雨\",\"temphigh\":\"30\",\"img\":\"22\",\"winddirect\":\"东风\",\"windpower\":\"3-4 级\"}},{\"date\":\"2017-08-29\",\"week\":\"星期二\",\"sunrise\":\"06:08\",\"sunset\":\"18:47\",\"night\":{\"weather\":\"大雨\",\"templow\":\"25\",\"img\":\"9\",\"winddirect\":\"东风\",\"windpower\":\"3-4 级\"},\"day\":{\"weather\":\"中雨-大雨\",\"temphigh\":\"30\",\"img\":\"22\",\"winddirect\":\"无持续风向\",\"windpower\":\"微风\"}},{\"date\":\"2017-08-30\",\"week\":\"星期三\",\"sunrise\":\"07:30\",\"sunset\":\"19:30\",\"night\":{\"weather\":\"晴\",\"templow\":\"27\",\"img\":\"0\",\"winddirect\":\"东北风\",\"windpower\":\"微风\"},\"day\":{\"weather\":\"晴\",\"temphigh\":\"34\",\"img\":\"0\",\"winddirect\":\"东北风\",\"windpower\":\"微风\"}},{\"date\":\"2017-08-31\",\"week\":\"星期四\",\"sunrise\":\"07:30\",\"sunset\":\"19:30\",\"night\":{\"weather\":\"雷阵雨\",\"templow\":\"26\",\"img\":\"4\",\"winddirect\":\"东北风\",\"windpower\":\"微风\"},\"day\":{\"weather\":\"雷阵雨\",\"temphigh\":\"34\",\"img\":\"4\",\"winddirect\":\"东北风\",\"windpower\":\"微风\"}}],\"hourly\":[{\"time\":\"9:00\",\"weather\":\"多云\",\"temp\":\"29\",\"img\":\"1\"},{\"time\":\"10:00\",\"weather\":\"多云\",\"temp\":\"31\",\"img\":\"1\"},{\"time\":\"11:00\",\"weather\":\"雷阵雨\",\"temp\":\"28\",\"img\":\"4\"},{\"time\":\"12:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"13:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"14:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"15:00\",\"weather\":\"雷阵雨\",\"temp\":\"30\",\"img\":\"4\"},{\"time\":\"16:00\",\"weather\":\"雷阵雨\",\"temp\":\"32\",\"img\":\"4\"},{\"time\":\"17:00\",\"weather\":\"雷阵雨\",\"temp\":\"31\",\"img\":\"4\"},{\"time\":\"18:00\",\"weather\":\"雷阵雨\",\"temp\":\"31\",\"img\":\"4\"},{\"time\":\"19:00\",\"weather\":\"雷阵雨\",\"temp\":\"30\",\"img\":\"4\"},{\"time\":\"20:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"21:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"22:00\",\"weather\":\"雷阵雨\",\"temp\":\"29\",\"img\":\"4\"},{\"time\":\"23:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"0:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"1:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"2:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"3:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"4:00\",\"weather\":\"多云\",\"temp\":\"28\",\"img\":\"1\"},{\"time\":\"5:00\",\"weather\":\"多云\",\"temp\":\"27\",\"img\":\"1\"},{\"time\":\"6:00\",\"weather\":\"多云\",\"temp\":\"27\",\"img\":\"1\"},{\"time\":\"7:00\",\"weather\":\"多云\",\"temp\":\"27\",\"img\":\"1\"},{\"time\":\"8:00\",\"weather\":\"多云\",\"temp\":\"29\",\"img\":\"1\"}]}}"
;
	printf("%s\n", jSON);


	cJSON *root = cJSON_Parse(jSON);
	cJSON *result = cJSON_GetObjectItem(root, "result");

	cJSON *city   = cJSON_GetObjectItem(result, "city");
	cJSON *weather= cJSON_GetObjectItem(result, "weather");

	printf("%s: %s\n", city->valuestring, weather->valuestring);

	return 0;
}
